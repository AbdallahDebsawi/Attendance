<div class="expand">
  <div class="table-title">Attendance History</div>
  <mat-accordion class="example-headers-align" multi>
    <mat-expansion-panel *ngFor="let record of attendanceRecords">
      <mat-expansion-panel-header>
        <mat-panel-title> {{ record.Date }}</mat-panel-title>
        <mat-panel-description>
          view details
          <mat-icon>date_range</mat-icon>
        </mat-panel-description>
      </mat-expansion-panel-header>
      <div class="table-inner-container">
        <table>
          <thead>
            <th>Date</th>
            <th>Check In</th>
            <th>Check Out</th>
            <th>Status</th>
          </thead>
          <tbody>
            <tr *ngFor="let day of record.Records">
              <td>{{ day.Date }}</td>
              <td>{{ day.CheckIn }}</td>
              <td>{{ day.CheckOut }}</td>
              <td>{{ day.Status }}</td>
            </tr>
          </tbody>
          <tfoot>
            <tr>
              <td>
                <b>Total Working hours: </b>
                <span>{{ record.TotalWorkingHours }}</span>
              </td>
            </tr>
          </tfoot>
        </table>
      </div>
    </mat-expansion-panel>
    <mat-divider></mat-divider>
  </mat-accordion>
</div>

<div class="progress-container-wrapper">
  <div class="progress-container">
    <div class="progress-bar">
      <div class="progress-loader" [style.width.%]="(TotalHours / 260) * 100"></div>
      
      <div class="progress-section red" [style.width.%]="(MinHoursPerMonth / 260) * 100"></div>
      <div class="progress-section orange" [style.width.%]="((MaxHoursPerMonth - MinHoursPerMonth) / 260) * 100"></div>
      <div class="progress-section green" [style.width.%]="((260 - MaxHoursPerMonth) / 260) * 100"></div>

      <div class="progress-line" [style.left.%]="0"></div>
      <div class="progress-line" [style.left.%]="(MinHoursPerMonth / 260) * 100"></div>
      <div class="progress-line" [style.left.%]="(MaxHoursPerMonth / 260) * 100"></div>
      <div class="progress-line" [style.left.%]="100"></div>
    </div>

    <div class="hours-labels">
      <span style="left: 0%;">0</span>
      <span [style.left.%]="(MinHoursPerMonth / 260) * 100">{{ MinHoursPerMonth }} Min Hours</span>
      <span [style.left.%]="(MaxHoursPerMonth / 260) * 100">{{ MaxHoursPerMonth }} Max Hours</span>
      <span style="left: 100%;">260</span>
    </div>
  </div>
</div>

<div class="total-hours-label">
  Total Hours: <b>{{ totalHour }}</b>
</div>



